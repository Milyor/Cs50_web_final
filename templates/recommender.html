{% extends "layout.html" %}

{% block title %}
    Recommender
{% endblock %}

{% block main %}

<h1> Discover Your Indie Escape </h1>

<form action="/" method='post'>
    <div class="mb-3">
<input placeholder="Game" name="game" autocomplete="off" autofocus class="form-control mx-auto w-auto">
    </div>
    <div class="mb-3">
<button type="submit" class="btn custom-btn" type="submit">Recommend Me</button>
    </div>
</form>

<h3>{{ game_id }}</h3>
{% if decoded_data %}
    <p>Decoded Data: {{ decoded_data }}</p>
{% endif %}

{% if error_message %}
    <p>Error Message: {{ error_message }}</p>
{% endif %}

<h2>Top Similar Games:</h2>
<ul>
    {% for game in top_similar_games %}
        <li>
            <p>Name: {{ game['name'] }}</p>
            <p>Similarity: {{ game['similarity'] }}</p>
            <p>ID: {{ game['id'] }}</p>
           
            {% if cover_urls %}
                {% if loop.index0 < cover_urls|length %}
                    <img src="{{ cover_urls[loop.index0] }}" alt="game cover image">
                {% endif %}
            {% endif %}
        </li>
    {% endfor %}
</ul>
{% endblock %}
